define(["exports","./when-be8d8a3b","./Check-700d42f0","./Math-5095bf3d","./Cartesian2-6dbbe57d","./Transforms-945ee6b1","./GeometryAttribute-30dc66cd"],function(t,f,n,y,O,a,b){"use strict";var p=Math.cos,v=Math.sin,G=Math.sqrt,r={computePosition:function(t,n,a,r,e,o,s){var i=n.radiiSquared,g=t.nwCorner,h=t.boundingRectangle,u=g.latitude-t.granYCos*r+e*t.granXSin,c=p(u),C=v(u),l=i.z*C,d=g.longitude+r*t.granYSin+e*t.granXCos,S=c*p(d),w=c*v(d),M=i.x*S,X=i.y*w,Y=G(M*S+X*w+l*C);if(o.x=M/Y,o.y=X/Y,o.z=l/Y,a){var m=t.stNwCorner;f.defined(m)?(u=m.latitude-t.stGranYCos*r+e*t.stGranXSin,d=m.longitude+r*t.stGranYSin+e*t.stGranXCos,s.x=(d-t.stWest)*t.lonScalar,s.y=(u-t.stSouth)*t.latScalar):(s.x=(d-h.west)*t.lonScalar,s.y=(u-h.south)*t.latScalar)}}},x=new b.Matrix2,R=new O.Cartesian3,P=new O.Cartographic,W=new O.Cartesian3,_=new a.GeographicProjection;function T(t,n,a,r,e,o,s){var i=Math.cos(n),g=r*i,h=a*i,u=Math.sin(n),c=r*u,C=a*u;R=_.project(t,R),R=O.Cartesian3.subtract(R,W,R);var l=b.Matrix2.fromRotation(n,x);R=b.Matrix2.multiplyByVector(l,R,R),R=O.Cartesian3.add(R,W,R),--o,--s;var d=(t=_.unproject(R,t)).latitude,S=d+o*C,w=d-g*s,M=d-g*s+o*C,X=Math.max(d,S,w,M),Y=Math.min(d,S,w,M),m=t.longitude,f=m+o*h,p=m+s*c,v=m+s*c+o*h;return{north:X,south:Y,east:Math.max(m,f,p,v),west:Math.min(m,f,p,v),granYCos:g,granYSin:c,granXCos:h,granXSin:C,nwCorner:t}}r.computeOptions=function(t,n,a,r,e,o,s){var i,g,h,u,c,C=t.east,l=t.west,d=t.north,S=t.south,w=!1,M=!1;d===y.CesiumMath.PI_OVER_TWO&&(w=!0),S===-y.CesiumMath.PI_OVER_TWO&&(M=!0);var X=d-S;h=(c=C<l?y.CesiumMath.TWO_PI-l+C:C-l)/((i=Math.ceil(c/n)+1)-1),u=X/((g=Math.ceil(X/n)+1)-1);var Y=O.Rectangle.northwest(t,o),m=O.Rectangle.center(t,P);0===a&&0===r||(m.longitude<Y.longitude&&(m.longitude+=y.CesiumMath.TWO_PI),W=_.project(m,W));var f=u,p=h,v=O.Rectangle.clone(t,e),b={granYCos:f,granYSin:0,granXCos:p,granXSin:0,nwCorner:Y,boundingRectangle:v,width:i,height:g,northCap:w,southCap:M};if(0!==a){var G=T(Y,a,h,u,0,i,g);d=G.north,S=G.south,C=G.east,l=G.west,b.granYCos=G.granYCos,b.granYSin=G.granYSin,b.granXCos=G.granXCos,b.granXSin=G.granXSin,v.north=d,v.south=S,v.east=C,v.west=l}if(0!==r){a-=r;var x=O.Rectangle.northwest(v,s),R=T(x,a,h,u,0,i,g);b.stGranYCos=R.granYCos,b.stGranXCos=R.granXCos,b.stGranYSin=R.granYSin,b.stGranXSin=R.granXSin,b.stNwCorner=x,b.stWest=R.west,b.stSouth=R.south}return b},t.RectangleGeometryLibrary=r});
